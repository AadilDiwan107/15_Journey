<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Bill Splitter Pro</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
    background: linear-gradient(135deg,#667eea,#764ba2);
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
}
.card{
    border-radius:20px;
}
.result-box{
    background:#f8f9fa;
    padding:15px;
    border-radius:15px;
}
</style>
</head>
<body>

<div class="container">
<div class="card p-4 shadow-lg">

<h3 class="text-center mb-4">ðŸ’¸ Smart Bill Splitter Pro</h3>

<div class="row">

<div class="col-md-6">
    <input type="number" id="bill" class="form-control mb-3" placeholder="Total Bill Amount">
    <input type="number" id="people" class="form-control mb-3" placeholder="Number of People">
    <input type="number" id="tip" class="form-control mb-3" placeholder="Tip %">
    <input type="number" id="tax" class="form-control mb-3" placeholder="Tax %">

    <button class="btn btn-primary w-100" onclick="generateNameFields()">Add Names</button>
</div>

<div class="col-md-6">
    <div id="nameFields"></div>
</div>

</div>

<hr>

<div class="text-center">
    <button class="btn btn-success px-4" onclick="calculateSplit()">Calculate Split</button>
</div>

<div id="result" class="result-box mt-4 d-none"></div>

</div>
</div>

<script>

function generateNameFields(){
    const people = document.getElementById("people").value;
    const container = document.getElementById("nameFields");
    container.innerHTML = "";

    for(let i=1;i<=people;i++){
        container.innerHTML += `
            <input type="text" class="form-control mb-2 person-name" placeholder="Person ${i} Name">
        `;
    }
}

function calculateSplit(){
    let bill = parseFloat(document.getElementById("bill").value) || 0;
    let people = parseInt(document.getElementById("people").value) || 1;
    let tip = parseFloat(document.getElementById("tip").value) || 0;
    let tax = parseFloat(document.getElementById("tax").value) || 0;

    let names = document.querySelectorAll(".person-name");

    if(bill<=0 || people<=0){
        alert("Enter valid bill and people count");
        return;
    }

    let tipAmount = bill * (tip/100);
    let taxAmount = bill * (tax/100);
    let finalAmount = bill + tipAmount + taxAmount;
    let perPerson = finalAmount / people;

    let resultBox = document.getElementById("result");
    resultBox.classList.remove("d-none");

    let output = `
        <h5>Total Bill: â‚¹${bill.toFixed(2)}</h5>
        <h6>Final Amount (with Tip + Tax): â‚¹${finalAmount.toFixed(2)}</h6>
        <hr>
    `;

    names.forEach((input,index)=>{
        let name = input.value || `Person ${index+1}`;
        output += `
            <p><strong>${name}</strong> pays: â‚¹${perPerson.toFixed(2)}</p>
        `;
    });

    output += `
        <button class="btn btn-outline-primary mt-2" onclick="copyResult()">Copy Result</button>
    `;

    resultBox.innerHTML = output;
}

function copyResult(){
    let text = document.getElementById("result").innerText;
    navigator.clipboard.writeText(text);
    alert("Result copied to clipboard!");
}

</script>

</body>
</html>
